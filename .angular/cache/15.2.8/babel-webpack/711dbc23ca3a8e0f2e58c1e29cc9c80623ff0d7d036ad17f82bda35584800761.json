{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/peliculas.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../shared/slide-show/slide-show.component\";\nimport * as i4 from \"../../shared/peliculas-poster/peliculas-poster.component\";\nfunction HomeComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4);\n    i0.ɵɵelement(2, \"app-slide-show\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"movies\", ctx_r0.moviesSlideShow);\n  }\n}\nfunction HomeComponent_app_peliculas_poster_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-peliculas-poster\", 5);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"movies\", ctx_r1.movies);\n  }\n}\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    onScroll() {\n      const pos = (document.documentElement.scrollTop || document.body.scrollTop) * 1300;\n      const max = document.documentElement.scrollHeight || document.body.scrollHeight;\n      if (pos > max) {\n        this.peliculasSvc.getPeliculas().subscribe(movies => {\n          this.movies.push(...movies);\n        });\n      }\n      console.log(pos, max);\n    }\n    constructor(peliculasSvc) {\n      this.peliculasSvc = peliculasSvc;\n      this.movies = [];\n      this.moviesSlideShow = [];\n    }\n    ngOnInit() {\n      this.peliculasSvc.getPeliculas().subscribe(movies => {\n        this.moviesSlideShow = movies;\n        this.movies = movies;\n      });\n    }\n    ngOnDestroy() {\n      this.peliculasSvc.resetPeliculaPage();\n    }\n  }\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.PeliculasService));\n  };\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    hostBindings: function HomeComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"scroll\", function HomeComponent_scroll_HostBindingHandler($event) {\n          return ctx.onScroll($event);\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    decls: 6,\n    vars: 2,\n    consts: [[\"class\", \"row\", 4, \"ngIf\"], [1, \"mt-5\"], [3, \"movies\", 4, \"ngIf\"], [1, \"row\"], [1, \"col\"], [3, \"movies\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"Cartelera\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, HomeComponent_div_2_Template, 3, 1, \"div\", 0);\n        i0.ɵɵelementStart(3, \"h1\", 1);\n        i0.ɵɵtext(4, \"Estrenos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, HomeComponent_app_peliculas_poster_5_Template, 1, 1, \"app-peliculas-poster\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.movies.length > 0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.movies.length > 0);\n      }\n    },\n    dependencies: [i2.NgIf, i3.SlideShowComponent, i4.PeliculasPosterComponent]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}